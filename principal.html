<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagina Principal Motorista</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="css/estilosPrincipal.css">
    <script src="https://kit.fontawesome.com/0d0c0d47e9.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="img/icon.png" type="image/x-icon">
</head>
<body>
    <header class="container-fluid text-center fs-1">
        <div class="row">
            <div class="col" data-bs-toggle="modal" data-bs-target="#modalUsuario" onclick="visualizarPerfil();">
                <i class="fa-solid fa-user"></i>
            </div>
            <div class="col header-mensaje" data-bs-toggle="modal" data-bs-target="#modalMensajes" onclick="renderizarMensajes();" >
                <div class="alerta-mensaje-nuevo rounded-circle" id="alerta-mensaje"></div>
                <i class="fa-solid fa-envelope"></i>
            </div>
            <div class="col">
                <a href="index.html" style="color: #fd8d07;"><i class="fa-solid fa-right-from-bracket"></i></a>
            </div>
        </div>
    </header>
    <div class="logo-sin-fondo text-center">
        <img src="img/logo-sinFondo.png" alt="Logo Speed Sport" srcset="">
        <div class="separador m-auto"></div>
    </div> 
    <div class="navegacion container text-center mt-4 fw-medium ">
        <div class="row">
            <div class="col me-2 ms-2 active btn-default" onclick="visualizarPedidos();" id="btn-pedidos">Pedidos</div>
            <div class="col me-2 ms-2 btn-default" onclick="visualizarTomados();" id="btn-tomados">Tomados</div>
            <div class="col me-2 ms-2 btn-default" onclick="visualizarEntregas();" id="btn-entregados">Entregados</div>
        </div>
    </div>
    <div class="triangulos container text-center">
        <div class="row">
            <div class="col" id="triangulo-pedidos"><i class="fa-solid fa-caret-down"></i></div>
            <div class="col" id="triangulo-tomados"></div>
            <div class="col" id="triangulo-entregados"></div>
        </div>
    </div>

    <div class="renderizar-pedidos me-3 ms-3 rounded-3 overflow-auto" id="contenedor-de-pedidos">
        <div class="container pt-3 ps-2 pe-2" id="pagina-pedidos">
            <div class="vacio" style="color: #ffffff;">
                <i class="fa-solid fa-magnifying-glass fa-fade"></i>
                Buscando pedidos...
            </div>
            
        </div>
        <div class="container pt-3 ps-2 pe-2" id="pagina-tomados">
            <div class="vacio" style="color: #ffffff;">
                <i class="fa-regular fa-clock fa-spin"></i>
                No hay pedidos tomado...
            </div>
        </div>
        <div class="container pt-3 ps-2 pe-2" id="pagina-entregas">
            <div class="vacio" style="color: #ffffff;">
                <i class="fa-regular fa-folder-open fa-bounce"></i>
                No hay pedidos entregados...
            </div>
        </div>
    </div>
    <footer></footer>

    <!-- Modales -->
    <div class="modal fade" id="modalUsuario" tabindex="-1" aria-labelledby="modalUsuarioLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header text-center">
            <h1 class="modal-title fs-3" id="">Perfil</h1>
            </div>
            <div class="modal-body">
            <div class="container-fluid">
                <div class="row text-center">
                    <div class="col">
                        <img src="img/usuario.png" alt="Imagen Usuario" srcset="" class="img-usuario" id="img-perfil-modal">
                    </div>
                </div>
                <div class="row text-center fs-5">
                    <div id="calificacion-perfil-modal"></div>
                    <div style="color: white;" id="info-perfil-modal"></div>
                </div>
            </div>
            </div>
            <div class="modal-footer centrar-div">
            <button type="button" class="btn-default" data-bs-target="#modalCambioContraseña" data-bs-toggle="modal" onclick="contrasena();">Cambiar Contraseña</button>
            <button type="button" class="btn-close1" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
        </div>
    </div>

    <div class="modal fade" id="modalCambioContraseña" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
        <div class="modal-header">
            <h1 class="modal-title fs-3" id="">Cambiar contraseña</h1>
        </div>
        <div class="modal-body">
            <input type="password" placeholder="Introduzca contraseña actual" class="mb-2 form-control text-center fw-medium" id="contrasena-actual">
            <input type="password" placeholder="Nueva contraseña" class="mb-2 mt-4 form-control text-center fw-medium" id="contrasena-input" oninput="verificarContrasena();">
            <div style="position: relative;">
                <input type="password" placeholder="Verificar nueva contraseña" class="mb-2 form-control text-center fw-medium" id="verificar-contrasena-input" oninput="verificarContrasena();">
                <div class="verificacion" id="verificacion-contra"></div>
            </div>
            <p class="mt-2 mb-1 fst-italic p-2 text-center " id="error-contra">No se pudo actualizar contraseña</p>
            
        </div>
        <div class="modal-footer centrar-div">
            <button class="btn-close1" data-bs-target="#modalUsuario" data-bs-toggle="modal">Cancelar</button>
            <button class="btn-default" onclick="guardarContrasena();">Guardar cambios</button>
        </div>
        </div>
    </div>
    </div>

    <div class="modal fade" id="modalMensajes" tabindex="-1" aria-labelledby="modalMensajesLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen modal-dialog-scrollable">
    <div class="modal-content">
    <div class="modal-header">
        <h1 class="modal-title fs-3" id="modalMensajesLabel">Mensajes</h1>
    </div>
    <div class="modal-body">
        <div class="container-fluid" id="contenedor-mensajes-modal"></div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn-close1" data-bs-dismiss="modal">Cerrar</button>
    </div>
    </div>
    </div>
    </div>

    <div class="modal fade" id="modalConfirmarPedido" tabindex="-1" aria-labelledby="modalConfirmarPedidoLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-3" id="modalConfirmarPedidoLabel">Confirmación de pedido</h1>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                <div class="row text-center"  style="color: white;">
                    <p class="fs-5 fw-bold">¿Esta seguro que desea realizar este pedido?</p>
                    <p style="font-size: 1rem;">Recuerde que puede ver los detalles del pedido dando clic sobre el mismo</p>
                </div>
                </div>
            </div>
            <div class="modal-footer centrar-div">
                <button type="button" class="btn-close1" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn-default" onclick="confirmarPedidoTomado();">Confirmar</button>
            </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalConfirmarEntregado" tabindex="-1" aria-labelledby="modalConfirmarEntregadoLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-3" id="modalConfirmarEntregadoLabel">Confirmación de pedido</h1>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                <div class="row text-center"  style="color: white;">
                    <p class="fs-5 fw-bold">¿Está seguro de que ya está entregado el pedido?</p>
                </div>
                </div>
            </div>
            <div class="modal-footer centrar-div">
                <button type="button" class="btn-close1" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn-default" onclick="estadoEntregado();">Confirmar</button>
            </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalInfoProducto" tabindex="-1" aria-labelledby="modalInfoProductoLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
        <div class="modal-header">
            <h1 class="modal-title fs-3" id="modalInfoProductoLabel">Información Pedido</h1>
        </div>
        <div class="modal-body text-center">
            <div id="informacion-general-pedido-modal"></div>
            <table class="table-warning table mt-3">
                <thead>
                    <tr>
                    <th scope="col">Nombre producto</th>
                    <th scope="col">Cant</th>
                    <th scope="col">Precio</th>
                    </tr>
                </thead>
                <tbody id="productos-factura"></tbody>
            </table>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn-close1" data-bs-dismiss="modal">Cerrar</button>
        </div>
        </div>
    </div>
    </div>

    <div class="modal fade" id="modalEstadoPedido" tabindex="-1" aria-labelledby="modalEstadoPedidoLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-3" id="modalEstadoPedidoLabel">Estado del Pedido</h1>
            </div>
            <div class="modal-body">
              <div class="container-fluid">
                <div class="row mb-4">
                    <div class="col">
                        <img class="rounded-circle" src="https://cdn.artboard.studio/private/social_64926e32cfcfe5001c3b24d8/projects/64926ef1427f4b001cc3919c/298789fb-1009-4123-b7c3-a83f376f4803-image.png" alt="Imagen de repartidor" srcset="">
                    </div>
                    <div class="col centrar-div">
                        <button class="btn-close1 fs-5" id="btn-estado-camino">En camino</button>
                    </div>
                </div>
                <div class="row mb-4">
                    <div class="col centrar-div">
                        <button class="btn-close1 fs-5" onclick="estadoEnTienda();" id="btn-estado-tienda">En tienda</button>
                    </div>
                    <div class="col">
                        <img class="rounded-circle" src="https://cdn.artboard.studio/private/social_64926e32cfcfe5001c3b24d8/projects/64926ef1427f4b001cc3919c/86f2e03f-c145-4dfc-a88a-1d9450d60f14-image.png" alt="Imagen de tienda" srcset="">
                    </div>
                </div>
                <div class="row mb-4">
                    <div class="col">
                        <img class="rounded-circle" src="https://img.freepik.com/free-vector/two-storey-house_1308-16176.jpg?w=740&t=st=1690565451~exp=1690566051~hmac=3851aba099585b8c58ecd495c729e57428bfe84474e0d37b845914722cc5f3b9" alt="Imagen de repartidor" srcset="">
                    </div>
                    <div class="col centrar-div">
                        <button class="btn-close1 fs-5" onclick="estadoEnDestino();" id="btn-estado-destino">En destino</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col centrar-div">
                        <button class="btn-close1 fs-5" data-bs-toggle="modal" data-bs-target="#modalConfirmarEntregado" id="btn-estado-entregado">Entregado</button>
                    </div>
                    <div class="col">
                        <img class="rounded-circle" src="https://cdn.artboard.studio/private/social_64926e32cfcfe5001c3b24d8/projects/64926ef1427f4b001cc3919c/9a294a55-0997-4371-ab44-8ec31012968f-image.png" alt="Imagen de tienda" srcset="">
                    </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn-close1" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" id="modalWarning" tabindex="-1" aria-labelledby="modalWarningLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content" style="background-image: url('');" >
            <div class="modal-body">
                <img style="width: 100%;" src="https://img.freepik.com/free-vector/500-internal-server-error-concept-illustration_114360-1924.jpg?w=996&t=st=1692851177~exp=1692851777~hmac=80300129675d023680f55075a9e28b2011e7b7bada7bde82d6f2ca102bb7264f" alt="">
                <p class="text-center">¡Ooops, error en el servidor intente de nuevo más tarde!</p>
            </div>
        </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="js/controladorPrincipal.js"></script>
</body>
</html>